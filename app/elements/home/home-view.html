<dom-module id="home-view">
    <template>
        <style>
            :host {
                display: block;
            }
            paper-material {
                background: var(--primary-background-color);
                color: var(--primary-text-color);
            }
            .space {
                padding: 10px;
            }

            .header {
                color: var(--accent-color);
            }

            .stack {
                margin: 15px auto;
            }
            iron-image {
                width: 100%;
                --iron-image-width: 100%;
            }
            img {
                display: block;
                transform: translate3d(-50%, 596px, 0px);
            }
            .parallax-container {
                height: 800px;
            }
            h3 {
                color: var(--light-primary-color);
            }


        </style>
        <div class="parallax-container valign-wrapper" id="cont">
            <div class="parallax" id="parallax">
                <img src="/images/home-bg.jpg">
            </div>
            <div class="container center">
                <iron-image src="{{profile.avatar}}" style="width:135px; height: 135px;" class="circle responsive-img" preload ></iron-image>
                <h3>{{profile.name}}</h3>
                <paper-spinner active="{{showLoading}}"></paper-spinner>
            </div>
        </div>
        <div class="section white">
            <div class="row container">
                <h2 class="header">Web Development</h2>
                <p class="grey-text text-darken-3 lighten-3">{{profile.intro}}</p>
            </div>
        </div>
        <div class="parallax-container">
            <div class="parallax"><img src="/images/sing.jpg"></div>
        </div>
        <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cum perferendis totam eos. Iure vitae minus et, similique totam cum tempore culpa, dolores neque quibusdam sed iusto, temporibus distinctio modi. Voluptate.
        </p>
    </template>
    <script>
        Polymer({
            is: 'home-view',
            behaviors: [
                Polymer.NeonAnimationRunnerBehavior
            ],
            listeners: {
                'cont.scroll': 'scrolled'
            },
            scrolled: function (e) {
                console.log("e", e);
            },
            ready: function () {
                this.playAnimation('entry');
                this.addEventListener('scroll', function (e) {
                    console.log("e", e);
                });
            },
            routeChanged: function () {
                if (this.route === 'home') {
                    this.playAnimation('entry');
                }
            },
            properties: {
                route: {
                    observer: 'routeChanged'
                },
                showLoading: {
                    type: Boolean,
                    computed: 'getUser(profile)'
                },
                animationConfig: {
                    value: function() {
                        return {
                            'entry': {
                                name: 'fade-in-animation',
                                node: this.$.image,
                                timing: {delay: 700}
                            },
                            'exit': {
                                name: 'fade-out-animation',
                                node: this.$.image
                            }
                        };
                    }
                }
            },
            getUser: function (profile) {
                console.log("profile", profile);
                return !profile;
            }
        });
    </script>
</dom-module>