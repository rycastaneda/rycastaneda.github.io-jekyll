<dom-module id="home-view">
    <template>
        <style>
            :host {
                display: block;
            }
            paper-material {
                background: var(--primary-background-color);
                color: var(--primary-text-color);
            }
            .space {
                padding: 10px;
            }

            .header {
                color: var(--accent-color);
            }

            .stack {
                margin: 15px auto;
            }
            iron-image {
                --iron-image-width: 100%;
            }
            img {
                display: block;
                transform: translate3d(-50%, 596px, 0px);
            }
            .home {
                height: 1000px;
            }

            h3, h5 {
                color: var(--light-primary-color);
            }

            /*#para  iron-image {
                width: 100%;
                height: 800px;
                opacity: 0.4;
            }*/

            #about {
                opacity: 0;
                background-color: var(--light-primary-color);
            }

            paper-progress {
                --paper-progress-transition-duration: 0.08s;
                --paper-progress-transition-timing-function: ease;
                --paper-progress-transition-transition-delay: 1s;
            }

            #contact {
                color: var(--primary-text-color);
                background-color: var(--light-primary-color);
                margin-bottom: 0px;
            }

            a > i {
                margin-left: 5px;
            }

            .dark, .dark > a {
                color: var(--primary-text-color);
            }

            .light, .light > a {
                color: var(--light-primary-color);
            }

            .blur {
                opacity: 0.4;
            }

            form {
                margin-bottom: 20px;
            }
        </style>

        <div class="parallax-container home valign-wrapper" id="cont">
            <div class="parallax" id="parallax">
                <img src="/images/home-bg.jpg">
            </div>
            <div class="container center">
                <iron-image src="{{profile.avatar_nocap}}" style="width:135px; height: 135px;" class="circle responsive-img" preload ></iron-image>
                <h3>{{profile.name}}</h3>
                <h5>Web Developer</h5>
                <paper-spinner active="{{showLoading}}"></paper-spinner>
            </div>
        </div>

        <div class="section" id="about">
            <div class="row container">
                <h2 class="header">Web Development</h2>
                <p>{{profile.intro}}</p>
            </div>
        </div>

        <my-portfolio profile="{{profile}}"></my-portfolio>

        <my-skill profile="{{profile}}" id="skill" hidden="{{!showAbout}}"></my-skill>


        <div class="row contact" id="contact">
            <div class="col s6">
                <iron-image src="{{profile.avatar}}"></iron-image>
            </div>
            <div class="col s6 center">
                <h2>Contact</h2>
                <form class="row" action="">
                    <div class="input-field col s12">
                          <input placeholder="Placeholder" id="first_name" type="text" class="validate">
                          <label for="first_name">Name</label>
                        </div>
                    <div class="input-field col s12">
                      <textarea id="textarea1" class="materialize-textarea"></textarea>
                      <label for="textarea1">Message</label>
                    </div>

                    <div class="input-field col s12">
                        <button class="waves-effect waves-light btn">Submit</button>
                    </div>
                </form>
                <p class="dark">
                    Ryan Castañeda<br>
                    <i class="fa fa-envelope">&nbsp;{{profile.email}}</i><br>
                    <i class="fa fa-map-marker">&nbsp;{{profile.location}}</i><br>
                    <a href="{{profile.github}}"><i class="fa fa-2x fa-github"></i></a>
                    <a href="{{profile.facebook}}"><i class="fa fa-2x fa-facebook"></i></a>
                    <a href="{{profile.linkedin}}"><i class="fa fa-2x fa-linkedin"></i></a>
                    <a href="{{profile.twitter}}"><i class="fa fa-2x fa-twitter"></i></a>
                    <a href="{{profile.instagram}}"><i class="fa fa-2x fa-instagram"></i></a>
                </p>
            </div>

        </div>
        <!-- <div class="parallax-container home valign-wrapper" id="cont">
            <div class="parallax" id="parallax">
                <img class="blur" src="{{profile.avatar}}">
            </div>
            <div class="container center dark">
                <h2>Contact</h2>
                <form class="row" action="">
                    <div class="input-field col s12">
                          <input id="first_name" type="text" class=" dark">
                          <label for="first_name" class="dark">Name</label>
                    </div>
                    <div class="input-field col s12">
                      <textarea id="textarea1" class="materialize-textarea dark"></textarea>
                      <label for="textarea1" class="dark">Message</label>
                    </div>

                    <div class="input-field col s12">
                        <button class="waves-effect waves-light btn">Submit</button>
                    </div>
                </form>
                <p class="dark">
                    Ryan Castañeda<br>
                    <i class="fa fa-envelope">&nbsp;{{profile.email}}</i><br>
                    <i class="fa fa-map-marker">&nbsp;{{profile.location}}</i><br>
                    <a href="{{profile.github}}"><i class="fa fa-2x fa-github"></i></a>
                    <a href="{{profile.facebook}}"><i class="fa fa-2x fa-facebook"></i></a>
                    <a href="{{profile.linkedin}}"><i class="fa fa-2x fa-linkedin"></i></a>
                    <a href="{{profile.twitter}}"><i class="fa fa-2x fa-twitter"></i></a>
                    <a href="{{profile.instagram}}"><i class="fa fa-2x fa-instagram"></i></a>
                </p>
            </div>
        </div> -->
        <iron-signals on-iron-signal-scroll="scrolled"></iron-signals>
    </template>
    <script>
        Polymer({
            is: 'home-view',
            behaviors: [
                Polymer.NeonAnimationRunnerBehavior
            ],
            listeners: {
                'scroll': 'scrolled',
                'neon-animation-finish': '_onNeonAnimationFinish'
            },
            scrolled: function (e) {
                if (e.detail.scrollTop >= 250) {
                    this.$.about.style.opacity = 1;
                    if (!this.showAbout) {
                        this.showAbout = true;
                        this.playAnimation('entry');
                    }
                }
            },
            _onNeonAnimationFinish: function (e) {
                console.log(e);
                this.$.about.style.opacity = 1;
            },
            ready: function () {},
            routeChanged: function () {
                if (this.route === 'home') {
                    // this.playAnimation('entry');
                }
            },
            properties: {
                route: {
                    observer: 'routeChanged'
                },
                showLoading: {
                    type: Boolean,
                    computed: 'getUser(profile)'
                },
                animationConfig: {
                    value: function() {
                        return {
                            'entry': {
                                name: 'slide-from-left-animation',
                                node: this.$.about,
                            },
                            'exit': {
                                name: 'fade-out-animation',
                                node: this.$.image
                            }
                        };
                    }
                },
                showContact: {
                    type: Boolean,
                    value: !false
                },
                showAbout: {
                    type: Boolean,
                    value: false
                }
            },
            getUser: function (profile) {
                console.log(profile);
                return !profile;
            }
        });
    </script>
</dom-module>