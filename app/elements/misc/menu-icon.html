<dom-module id="menu-icon">
    <template>
        <style>
            :host {
                display: block;
            }

            .menu-button {
                position: fixed;
                top: 10px;
                right: 25px;
                left: auto;
                z-index: 1;
                width: 50px;
              height: 50px;
            }
        </style>
        <paper-icon-button id="menubtn" icon="maps:menu" on-tap="toggleSidebar" class="menu-button"></paper-icon-button>
        <iron-signals on-iron-signal-scroll="scrolled"></iron-signals>
    </template>
    <script>
        Polymer({
            is: 'menu-icon',
            listeners: {
                'scroll': 'scrolled',
            },
            properties: {
                route: {
                    observer: 'routeChanged'
                }
            },
            routeChanged: function () {
                this.changeColors();
            },
            scrolled: function (e) {
                this.changeColors(e);
            },
            changeColors: function (e) {
                switch (this.route) {
                    case 'home':
                        if (e && e.detail.scrollTop > 500) {
                            this.$.menubtn.style.color = '#455A64';
                            this.$.menubtn.updateStyles();
                        } else {
                            this.$.menubtn.style.color = '#CFD8DC';
                            this.$.menubtn.updateStyles();
                        }
                        break;
                    case 'github':
                        this.$.menubtn.style.color = '#CFD8DC';
                        this.$.menubtn.updateStyles();
                        break;
                    default:
                        this.$.menubtn.style.color = '#455A64';
                        this.$.menubtn.updateStyles();
                }
            },
            toggleSidebar: function() {
                document.querySelector('#paperDrawerPanel').togglePanel();
            }
        });
    </script>
</dom-module>
