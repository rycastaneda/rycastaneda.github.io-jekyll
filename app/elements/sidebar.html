<dom-module id="my-sidebar">

    <template>
        <style include="shared-styles"></style>
        <style>
            :host {
                display: block;
            }
            .info {
                margin-top: 5px;
            }
            .menu-item:hover {
                cursor: pointer;
            }
            .sidebar-links > a {
                margin: 1px;
            }
            .sidebar-links {
                margin-bottom: 5px;
            }
        </style>

        <div class="center info" hidden="{{!loading}}">
            <paper-spinner id="spinner" active="loading"></paper-spinner>
        </div>
        <div class="center info">
            <a  class="light" href="{{profile.blog}}">
                <iron-image src="{{profile.avatar_url}}" style="width:135px; height: 135px;" class="circle responsive-img" preload ></iron-image>
            </a>
            <div hidden="{{loading}}">
                <h5>{{profile.name}}</h5>
                <a href="{{profile.blog}}">{{profile.blog}}</a><br>
                <h6><i class="fa fa-map-marker">&nbsp;</i>{{profile.location}}</h6>
                <div class="sidebar-links">
                    <a href="http://www.twitter.com/_rycastaneda"><i class="fa fa-lg fa-twitter"></i></a>
                    <a href="http://www.github.com/rycastaneda"><i class="fa fa-lg fa-github"></i></a>
                    <a href="http://www.facebook.com/esprekitetat"><i class="fa fa-lg fa-facebook"></i></a>
                    <a href="http://ph.linkedin.com/in/rycastaneda"><i class="fa fa-lg fa-linkedin"></i></a>
                </div>
            </div>
        </div>
        <paper-toolbar>
            <paper-menu id="menu" selected="{{route}}" attr-for-selected="data-menu">
                <paper-item class="menu-item" role="menuitem" on-tap="onSelect" data-menu="home">
                    Home
                </paper-item>
                <paper-item class="menu-item" role="menuitem" on-tap="onSelect" data-menu="todo">
                    Todo App
                </paper-item>
                <paper-item class="menu-item" role="menuitem" on-tap="onSelect" data-menu="github">
                    Github Repos
                </paper-item>
            </paper-menu>
        </paper-toolbar>
        <style></style>
    </template>
    <script>
        Polymer({
            is: 'my-sidebar',
            properties: {
                profile: {
                    type: Object,
                    observer: '_loading'
                },
                loading: {
                    type: Boolean,
                    value: true
                }
            },
            _loading : function () {
                console.log("this.profile", this.profile);
                this.loading = false;
                this.$$('#spinner').active = false;
            },
            onSelect: function(e){
                var link = e.currentTarget.getAttribute('data-menu');
                console.log("link", link);
                page('/' + link);
            }
        });
    </script>
</dom-module>