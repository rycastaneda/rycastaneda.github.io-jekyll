<dom-module id="todo-list">
    <template>
        <style>
            :host {
                display: block;
                overflow-y: auto;
                height: 300px;
            }
        </style>
        <template is="dom-repeat" items="{{todos}}" as="todo" filter="{{filterState(filterSelection)}}" observe="isComplete filterSelection">
            <todo-item todo="{{todo}}" index="{{index}}"></todo-item>
        </template>
    </template>
    <script>
        Polymer({
            is: 'todo-list',
            filterState: function (filterBy) {
                if (filterBy !== 'all') {
                    return function (item) {
                        return item.isComplete === (filterBy === 'done');
                    };
                }

                return function () {
                    return true;
                };
            },
            ready: function () {
            },

        });
    </script>
</dom-module>